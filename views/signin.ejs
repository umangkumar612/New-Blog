<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head') %>
    <title>Signin</title>

    <style>
      :root {
        --brand-1: #6a11cb;  /* purple */
        --brand-2: #2575fc;  /* blue */
        --accent:  #ff8a05;  /* orange */
      }

      /* Colorful background */
      .auth-bg {
        min-height: 100vh;
        background: linear-gradient(135deg, var(--brand-1) 0%, var(--brand-2) 100%);
        position: relative;
        overflow: hidden;
      }
      /* Subtle glow blobs */
      .auth-bg::before,
      .auth-bg::after {
        content: "";
        position: absolute;
        border-radius: 50%;
        filter: blur(50px);
        opacity: 0.5;
        pointer-events: none;
      }
      .auth-bg::before {
        width: 420px; height: 420px;
        background: radial-gradient(circle, #ffffff80, transparent 60%);
        top: -120px; left: -120px;
      }
      .auth-bg::after {
        width: 360px; height: 360px;
        background: radial-gradient(circle, #ffffff66, transparent 60%);
        bottom: -120px; right: -120px;
      }

      /* Card */
      .auth-card {
        border: 0;
        border-radius: 1rem;
        box-shadow: 0 20px 40px rgba(0,0,0,0.18);
        overflow: hidden;
      }

      /* Gradient title text */
      .brand-title {
        background: linear-gradient(90deg, var(--brand-1), var(--brand-2));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-weight: 800;
        letter-spacing: 0.3px;
      }

      /* Inputs with focus glow */
      .form-control {
        border-radius: 0.75rem;
      }
      .form-control:focus {
        border-color: var(--brand-1);
        box-shadow: 0 0 0 0.25rem rgba(106, 17, 203, 0.15);
      }

      /* Input group aesthetics */
      .input-group-text {
        border-radius: 0.75rem 0 0 0.75rem;
        background: #f8f9fa;
      }
      .input-group .form-control {
        border-left: 0;
      }
      /* Gradient button */
      .btn-gradient {
        background: linear-gradient(90deg, var(--brand-1), var(--brand-2));
        border: none;
        color: #fff;
        border-radius: 0.75rem;
        padding: 0.8rem 1rem;
        font-weight: 600;
        box-shadow: 0 12px 24px rgba(37, 117, 252, 0.25);
      }
      .btn-gradient:hover {
        filter: brightness(1.05);
        transform: translateY(-1px);
      }
      .btn-gradient:active {
        transform: translateY(0);
      }

      /* Links and helper text */
      .form-text { color: #6c757d; }
      .auth-links a { color: var(--brand-2); text-decoration: none; }
      .auth-links a:hover { text-decoration: underline; }
    </style>
  </head>

  <body>
    <%- include('./partials/nav') %>

    <div class="auth-bg d-flex align-items-center">
      <div class="container py-5">
        <div class="row justify-content-center">
          <div class="col-sm-10 col-md-8 col-lg-5">
            <div class="card auth-card p-4 p-md-5 bg-white">
              <h1 class="brand-title text-center mb-3">Welcome back</h1>
              <p class="text-center text-muted mb-4">Sign in to continue</p>

              <form action="/user/signin" method="post" novalidate>
                <div class="mb-3">
                  <label for="exampleInputEmail1" class="form-label">Email address</label>
                  <div class="input-group">
                    <span class="input-group-text">
                      <!-- envelope icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#6c757d" viewBox="0 0 16 16">
                        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v.217l-8 4.8-8-4.8V4z"/>
                        <path d="M0 6.383v5.617A2 2 0 0 0 2 14h12a2 2 0 0 0 2-2V6.383l-7.555 4.533a1 1 0 0 1-1.09 0L0 6.383z"/>
                      </svg>
                    </span>
                    <input
                      type="email"
                      name="email"
                      class="form-control"
                      id="exampleInputEmail1"
                      aria-describedby="emailHelp"
                      placeholder="your@email.com"
                      required
                    />
                  </div>
                  <div id="emailHelp" class="form-text">
                    We'll never share your email with anyone else.
                  </div>
                </div>

                <div class="mb-3">
                  <label for="exampleInputPassword1" class="form-label">Password</label>
                  <div class="input-group">
                    <span class="input-group-text">
                      <!-- lock icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#6c757d" viewBox="0 0 16 16">
                        <path d="M8 1a3 3 0 0 0-3 3v3H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-1V4a3 3 0 0 0-3-3zM6 7V4a2 2 0 1 1 4 0v3H6z"/>
                      </svg>
                    </span>
                    <input
                      name="password"
                      type="password"
                      class="form-control"
                      id="exampleInputPassword1"
                      placeholder="••••••••"
                      required
                    />
                    <button type="button" class="btn btn-outline-secondary" id="togglePassword">Show</button>
                  </div>
                </div>

                <div class="d-flex justify-content-between align-items-center mb-4">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="remember" name="remember">
                    <label class="form-check-label" for="remember">Remember me</label>
                  </div>
                  <div class="auth-links">
                    <a href="/forgot">Forgot password?</a>
                  </div>
                </div>

                <button type="submit" class="btn btn-gradient w-100">Sign in</button>
              </form>

              <div class="text-center mt-4 auth-links">
                <span class="text-muted">Don’t have an account?</span>
                <a href="/user/signup">Create one</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%- include('./partials/scripts') %>

    <script>
      // Optional: Show/Hide password
      (function () {
        const btn = document.getElementById('togglePassword');
        const input = document.getElementById('exampleInputPassword1');
        if (btn && input) {
          btn.addEventListener('click', () => {
            const isText = input.type === 'text';
            input.type = isText ? 'password' : 'text';
            btn.textContent = isText ? 'Show' : 'Hide';
          });
        }
      })();
    </script>
  </body>
</html>